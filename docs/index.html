<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="UTF-8">
    <title>MCAPI by materials-commons</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css"
      href="stylesheets/normalize.css" media="screen">
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans:400,700"
      rel="stylesheet" type="text/css">
    <link rel="stylesheet" type="text/css"
      href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css"
      href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">MCAPI</h1>
      <h2 class="project-tagline">Materials Commons API</h2>
      <a href="https://github.com/materials-commons/mcapi" class="btn">View



        on GitHub</a> <a
        href="https://github.com/materials-commons/mcapi/zipball/master"
        class="btn">Download .zip</a> <a
        href="https://github.com/materials-commons/mcapi/tarball/master"
        class="btn">Download .tar.gz</a> </section>
    <section class="main-content">
      <h1> <a id="materials-commons-rest-api" class="anchor"
          href="#materials-commons-rest-api" aria-hidden="true"><span
            class="octicon octicon-link"></span></a>Materials Commons
        Python API</h1>
      <h1> <a id="api-overview" class="anchor" href="#api-overview"
          aria-hidden="true"><span class="octicon octicon-link"></span></a>API



        Overview</h1>
      <p>We assume that the reader has used (or is otherwise familiar
        with) the Materials Commons web site (<a
          href="https://materialscommons.org/">https://materialscommons.org/</a>).


        This site provides a User Interface to the Materials Commons
        server. <br>
      </p>
      <p>In this document, we describe the Python API to the Materials
        Commons. It is a Python module embodying the API&nbsp;
        (Application Programmer Interface) that to the Materials Commons
        server. It supports creating, modifying, and deleting Materials
        Commons Projects and their parts: Experiments, Processes,
        Samples, Directories, and Files. These "objects of discourse"
        are depicted in this object-relation sketch.<br>
      </p>
      <img src="images/MaterialsCommonsCoreObject.png" alt="A box and
        line diagram of the core pojects and their relationships"
        width="679" height="437">
      <p>The object with the white backgrounds (Project, Experiment,
        Process, File, Directory, and Dataset) are the main objects that
        one uses to create a project in Materials Commons and the Python
        API lets a user create and manipulate each of these object type,
        except for Dataset. Since Dataset's are used as the means of
        publishing data on the public data site for Materials Commons,
        we felt it best that the web site should be used for that final
        publication.<br>
      </p>
      <p>In the diagram above the lines between the objects a
        relationship, but do not specify the nature of that
        relationship. In this document, those relations can be thought
        of as "contains" in the following way:<br>
      </p>
      <ul>
        <li>a Project contains</li>
        <ul>
          <li>(and consists of) a list of Experiments</li>
          <li>a (single) root Directory</li>
          <li>a list of files</li>
          <li>a list of Samples</li>
          <li>a list of Processes</li>
        </ul>
        <li>an Experiment contains</li>
        <ul>
          <li>a list of Files</li>
          <li>a list of Samples</li>
          <li>a list of Processes</li>
        </ul>
        <li>a Directory contains</li>
        <ul>
          <li>a list of Directories and Files</li>
        </ul>
      </ul>
      <p></p>
      <h2> <a id="current-version" class="anchor"
          href="#current-version" aria-hidden="true"><span
            class="octicon octicon-link"></span></a>Access to the API<br>
      </h2>
      <p>All API access is through function or method calls in the API
        (see the API Details section below). The API requires a
        configuration with a <b>base url</b> and an <b>apikey</b>.&nbsp;

        The configuration is set up using the file <i><b>~/.materialscommons/config.json</b></i>
        (where ~ denoted the users home directory) . <br>
        The URL for the API support by the production version of the
        Materials Commons is: <code>materialscommons.org/api</code>. To
        access test site, the corresponding url would be&nbsp; <code>test.materialscommons.org/api</code>
        . <br>
      </p>
      <p>For example, suppose the apikey for a given user is
        "12345678901234567890". Then that users might have a file&nbsp;
        <i><b>~/.materialscommons/config.json </b></i>which contained
        the following json:<br>
        <code>{<br>
          &nbsp;&nbsp;&nbsp; "apikey": </code><code>"12345678901234567890",<br>
          &nbsp;&nbsp;&nbsp; "mcurl": "http://mctest.localhost/api"<br>
          }<br>
        </code></p>
      <h3>Calls to the API<br>
      </h3>
      Calls to the API are made through calls in Python code, either to
      functions in the Module or to methods of Objects returned by those
      calls. Each call returns either an object or a list of objects,
      and most calls have the side effect of changing the one or more
      objects in the database. When Object are changed in the database,
      an updated object is returned which in general is <b>not the same
        as the object </b>used in making the call. For objects
      representing the same underlying value in the database, the is
      especially important to note: after a call to update the object,
      in general the returned object is not equal the the object used in
      the call. They will have many of the same data values, but only
      the id values can be used to verify the identity of the object
      being represented. See the example below.<br>
      <br>
      Most of these calls return an object. This occurs when you request
      a specific object, such as a project, or you update or create one.
      Where the object in question has a list of dependent types, the
      API will return an overview of those type, rather than the
      details.
      <p>For example a <code>Project</code> contains a list of <code>Samples</code>.
        When requesting a Project you can ask that the full details for
        the <code>Samples</code> be included rather than the overview
        form on sample. This is more expensive and should be used only
        when you will immediately need access to this information.</p>
      <h3><b>Examples</b> (coming soon - next release is end of June
        2017)</h3>
      <h2>Details of API functions, object and methods</h2>
      (Details coming soon - next release is end of June 2017)<br>
      <footer class="site-footer"> <span class="site-footer-owner"><a
            href="https://github.com/materials-commons/mcapi">MCAPI</a>
          is maintained by <a
            href="https://github.com/materials-commons">materials-commons</a>.</span>
        <span class="site-footer-credits">This page was generated by <a
            href="https://pages.github.com">GitHub Pages</a> using the <a
            href="https://github.com/jasonlong/cayman-theme">Cayman
            theme</a> by <a href="https://twitter.com/jasonlong">Jason
            Long</a>.</span> </footer>
    </section>
  </body>
</html>
